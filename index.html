<html>
    <head>
        <style>
            * {
                margin: 0;
                padding: 0;
                border: 0;
            }

            html {
                font-family: helvetica, arial, sans-serif;
                background: black;
            }

            #heroes {
                position: absolute;
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
            }

            .portrait {
                width: 128px;
                height: 128px;

                border-radius: 50%;
                background: linear-gradient(180deg,#000933 0,#141f52);
                box-shadow: 0 0 6px 1px rgba(0,0,0,.6);
            }

            td .portrait {
                width: 16px;
                height: 16px;
                display: inline-block;
            }

            td.type-cell {
                border: solid 1px #313131;
                text-align: center;

            }

            div#tabs button {
                margin: 5px;
                padding: 10px;
                background-color: #313131;
                color: white;
            }

            div.types {
                display: flex;
                justify-content: center;
                flex-direction: column;
            }

            div.type {
                border-radius: 20px; 
                -moz-border-radius: 20px; 
                -webkit-border-radius: 20px; 
                -khtml-border-radius: 20px; 
                -icab-border-radius: 20px; 
                -o-border-radius: 20px;

                color: #FFF;
                text-align: center;

                padding-left: 3px;
                padding-right: 3px;

                display: inline-block;
            }
            div.type.normal {
                background: #A8A878;
                border: 1px solid #6D6D4E";
            }
            div.type.fire {
                background:#F08030;
                border: 1px solid #9C531F;
            }
            div.type.fighting {
                background:#C03028;
                border: 1px solid #7D1F1A;
            }
            div.type.water {
                background:#6890F0;
                border: 1px solid #445E9C;
            }
            div.type.flying {
                background:#A890F0;
                border: 1px solid #6D5E9C;
            }
            div.type.grass {
                background:#78C850;
                border: 1px solid #4E8234;
            }
            div.type.poison {
                background:#A040A0;
                border: 1px solid #682A68;
            }
            div.type.electric {
                background:#F8D030;
                border: 1px solid #A1871F;
            }
            div.type.ground {
                background:#E0C068;
                border: 1px solid #927D44;
            }
            div.type.psychic {
                background:#F85888;
                border: 1px solid #A13959;
            }
            div.type.rock {
                background:#B8A038;
                border: 1px solid #786824;
            }
            div.type.ice {
                background:#98D8D8;
                border: 1px solid #638D8D;
            }
            div.type.bug {
                background:#A8B820;
                border: 1px solid #6D7815;
            }
            div.type.dragon {
                background:#7038F8;
                border: 1px solid #4924A1;
            }
            div.type.ghost {
                background:#705898;
                border: 1px solid #493963;
            }
            div.type.dark {
                background:#705848;
                border: 1px solid #49392F;
            }
            div.type.steel {
                background:#B8B8D0;
                border: 1px solid #787887;
            }
            div.type.fairy {
                background:#EE99AC;
                border: 1px solid #9B6470;
            }
        </style>
        <script>
        window.addEventListener('DOMContentLoaded', (event) => {
            var getPortraitUrl = function(name) {
                return "https://static.heroesofthestorm.com/gd/cc87c8bcafc797c1daf40e7a7ee7dfca/heroes/" + name + "/circleIcon.png"
            };

            var types = [
                "normal", "fire", "fighting", "water",
                "flying", "grass", "poison", "electric",
                "ground", "psychic", "rock", "ice",
                "bug", "dragon", "ghost", "dark",
                "steel", "fairy"
            ];

            var heroes = {
                "deathwing": {
                    types: ["dragon", "ground"]
                },
                "qhira": {
                    types: ["fighting"]
                },
                "anduin": {
                    types: ["normal", "fairy"]
                },
                "imperius": {
                    types: ["fairy", "fire"]
                },
                "orphea": {
                    types: ["dark"]
                },
                "malganis": {
                    types: ["dark"]
                },
                "mephisto": {
                    types: ["electric", "ghost"]
                },
                "whitemane": {
                    types: ["fairy"]
                },
                "yrel": {
                    types: ["fighting", "fairy"]
                },
                "deckard": {
                    types: ["normal"]
                },
                "fenix": {
                    types: ["steel"]
                },
                "maiev": {
                    types: ["steel", "dark"]
                },
                "blaze": {
                    types: ["fire", "steel"]
                },
                "hanzo": {
                    types: ["normal", "dragon"]
                },
                "alexstrasza": {
                    types: ["dragon", "fairy"]
                },
                "junkrat": {
                    types: ["normal", "fire"]
                },
                "ana": {
                    types: ["normal", "poison"]
                },
                "kelthuzad": {
                    types: ["ice", "ghost"]
                },
                "garrosh": {
                    types: ["fighting"]
                },
                "stukov": {
                    types: ["normal", "bug"]
                },
                "malthael": {
                    types: ["dark", "ghost"]
                },
                "dva": {
                    types: ["steel", "normal"]
                },
                "genji": {
                    types: ["steel", "dragon"]
                },
                "cassia": {
                    types: ["fighting", "electric"]
                },
                "probius": {
                    types: ["steel"]
                },
                "lucio": {
                    types: ["normal"]
                },
                "valeera": {
                    types: ["dark", "poison"]
                },
                "zuljin": {
                    types: ["fighting"]
                },
                "ragnaros": {
                    types: ["fire"]
                },
                "varian": {
                    types: ["fighting"]
                },
                "samuro": {
                    types: ["fighting"]
                },
                "zarya": {
                    types: ["normal", "fighting"]
                },
                "alarak": {
                    types: ["psychic", "electric"]
                },
                "auriel": {
                    types: ["fairy"]
                },
                "guldan": {
                    types: ["poison", "dark"]
                },
                "medivh": {
                    types: ["flying", "fairy"]
                },
                "chromie": {
                    types: ["dragon", "ground"]
                },
                "tracer": {
                    types: ["normal"]
                },
                "dehaka": {
                    types: ["ground", "bug"]
                },
                "xul": {
                    types: ["ghost"]
                },
                "li-ming": {
                    types: ["psychic"]
                },
                "greymane": {
                    types: ["normal"]
                },
                "lunara": {
                    types: ["poison", "grass"]
                },
                "cho": {
                    types: ["fighting"]
                },
                "gall": {
                    types: ["dark", "psychic"]
                },
                "artanis": {
                    types: ["fighting", "psychic"]
                },
                "lt-morales": {
                    types: ["normal"]
                },
                "rexxar": {
                    types: ["normal"]
                },
                "kharazim": {
                    types: ["fighting", "flying"]
                },
                "leoric": {
                    types: ["ghost"]
                },
                "the-butcher": {
                    types: ["fighting", "dark"]
                },
                "johanna": {
                    types: ["steel", "fairy"]
                },
                "kaelthas": {
                    types: ["fire"]
                },
                "sylvanas": {
                    types: ["dark", "ghost"]
                },
                "the-lost-vikings": {
                    types: ["normal", "fighting"]
                },
                "thrall": {
                    types: ["ground", "fighting"]
                },
                "jaina": {
                    types: ["ice"]
                },
                "azmodan": {
                    types: ["dark"]
                },
                "anubarak": {
                    types: ["bug"]
                },
                "chen": {
                    types: ["normal", "fire"]
                },
                "rehgar": {
                    types: ["ground", "fighting"]
                },
                "zagara": {
                    types: ["bug"]
                },
                "murky": {
                    types: ["water", "poison"]
                },
                "brightwing": {
                    types: ["fairy", "dragon"]
                },
                "li-li": {
                    types: ["normal"]
                },
                "tychus": {
                    types: ["normal", "steel"]
                },
                "abathur": {
                    types: ["bug"]
                },
                "arthas": {
                    types: ["ice", "ghost"]
                },
                "diablo": {
                    types: ["dark", "fire"]
                },
                "illidan": {
                    types: ["fighting", "dark"]
                },
                "kerrigan": {
                    types: ["psychic", "bug"]
                },
                "malfurion": {
                    types: ["grass", "fairy"]
                },
                "muradin": {
                    types: ["fighting"]
                },
                "nazeebo": {
                    types: ["poison", "bug"]
                },
                "nova": {
                    types: ["psychic"]
                },
                "raynor": {
                    types: ["normal", "steel"]
                },
                "sgt-hammer": {
                    types: ["steel", "fire"]
                },
                "sonya": {
                    types: ["fighting", "ground"]
                },
                "tyrael": {
                    types: ["fairy"]
                },
                "tyrande": {
                    types: ["fairy", "dark"]
                },
                "uther": {
                    types: ["fairy"]
                },
                "valla": {
                    types: ["fighting", "dark"]
                },
                "zeratul": {
                    types: ["dark", "psychic"]
                },
                "etc": {
                    types: ["normal"]
                },
                "falstad": {
                    types: ["flying", "electric"]
                },
                "gazlowe": {
                    types: ["steel", "electric"]
                },
                "stitches": {
                    types: ["poison", "ghost"]
                },
                "tassadar": {
                    types: ["electric", "psychic"]
                }
            };

            new URLSearchParams(window.location.search).forEach((value, key) => {
                if (heroes[key] != undefined) {
                    heroes[key].types = value.split(",");
                }
            });

            var tabsDiv = document.createElement('div');
            tabsDiv.setAttribute("id", "tabs");

            var heroesTabButton = document.createElement('button');
            heroesTabButton.setAttribute("class", "default-tab");
            heroesTabButton.setAttribute("onclick", "switchTab(event, 'heroes')");
            heroesTabButton.innerHTML = "Heroes";
            tabsDiv.appendChild(heroesTabButton);

            var typesTableTabButton = document.createElement('button');
            typesTableTabButton.setAttribute("onclick", "switchTab(event, 'types-table')");
            typesTableTabButton.innerHTML = "Types table";
            tabsDiv.appendChild(typesTableTabButton);

            var heroesDiv = document.createElement('div');
            heroesDiv.setAttribute("id", "heroes");
            heroesDiv.setAttribute("class", "tabcontent");
            for (var name in heroes) {
                var heroDiv = document.createElement('div');
                heroDiv.setAttribute("id", name);

                var heroPortraitDiv = document.createElement('div');
                heroPortraitDiv.setAttribute("class", "portrait");
                heroDiv.appendChild(heroPortraitDiv);

                var heroPortraitImg = document.createElement('img');
                heroPortraitImg.setAttribute("class", "portrait");
                heroPortraitImg.setAttribute("src", getPortraitUrl(name));
                heroPortraitDiv.appendChild(heroPortraitImg);

                var typesDiv = document.createElement('div');
                typesDiv.setAttribute("class", "types");
                heroes[name].types.forEach((type) => {
                    var typeDiv = document.createElement('div');
                    typeDiv.setAttribute("class", "type " + type);
                    typeDiv.innerHTML = type.toUpperCase();

                    typesDiv.appendChild(typeDiv);
                });
                heroDiv.appendChild(typesDiv);

                heroesDiv.appendChild(heroDiv);
            }

            var typesTableDiv = document.createElement('div');
            typesTableDiv.setAttribute("id", "types-table");
            typesTableDiv.setAttribute("class", "tabcontent");

            var typesTable = document.createElement('table');
            typesTableDiv.appendChild(typesTable);

            var typesTableHeaderTr = document.createElement('tr');
            var emptyTh = document.createElement('th');
            typesTableHeaderTr.appendChild(emptyTh);
            types.forEach((rowType) => {
                var typeTh = document.createElement('th');
                typeTh.setAttribute("class", "top-header");
                typesTableHeaderTr.appendChild(typeTh);

                var typeDiv = document.createElement('div');
                typeDiv.setAttribute("class", "type " + rowType);
                typeDiv.innerHTML = rowType.toUpperCase();
                typeTh.appendChild(typeDiv);
            });
            typesTable.appendChild(typesTableHeaderTr);

            types.forEach((columnType) => {
                var typesTableTr = document.createElement('tr');
                typesTable.appendChild(typesTableTr);

                var columnTypeTh = document.createElement('th');
                columnTypeTh.setAttribute("class", "left-header");
                typesTableTr.appendChild(columnTypeTh);

                var typeDiv = document.createElement('div');
                typeDiv.setAttribute("class", "type " + columnType);
                typeDiv.innerHTML = columnType.toUpperCase();
                columnTypeTh.appendChild(typeDiv);

                types.forEach((rowType) => {
                    var typeCellTd = document.createElement('td');
                    typeCellTd.setAttribute("class", "type-cell");
                    typesTableTr.appendChild(typeCellTd);

                    for (var name in heroes) {
                        if (heroes[name].types.every((type) => [columnType, rowType].includes(type))
                            && [columnType, rowType].every((type) => heroes[name].types.includes(type))) {
                            var heroPortraitDiv = document.createElement('div');
                            heroPortraitDiv.setAttribute("class", "portrait");
                            typeCellTd.appendChild(heroPortraitDiv);

                            var heroPortraitImg = document.createElement('img');
                            heroPortraitImg.setAttribute("class", "portrait");
                            heroPortraitImg.setAttribute("src", getPortraitUrl(name));
                            heroPortraitDiv.appendChild(heroPortraitImg);
                        }
                    }
                });
            });

            document.body.appendChild(tabsDiv);
            document.body.appendChild(heroesDiv);
            document.body.appendChild(typesTableDiv);

            document.getElementsByClassName("default-tab")[0].click();
        });

        function switchTab(event, tab) {
            var i, tabcontent, tablinks;
            [].forEach.call(document.getElementsByClassName("tabcontent"), (tabcontent) => {
                tabcontent.style.display = "none";
            });

            [].forEach.call(document.getElementsByClassName("tablinks"), (tablink) => {
                tablink.className = tablink.className.replace("active", "");
            });

            document.getElementById(tab).style.display = "flex";
            event.currentTarget.className += " active";
        }
        </script>
    </head>
</html>